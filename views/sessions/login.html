<!DOCTYPE html>
<html lang="en" ng-app="DeployerApp">
  <head>
    <title>Deployer</title>
    <link href="/components/bootstrap/dist/css/bootstrap.min.css" media="screen" rel="stylesheet">
    <link href="/components/toastr/toastr.min.css" media="screen" rel="stylesheet">
    <link href="/css/style.css" media="screen" rel="stylesheet">
  </head>
  <body ng-controller="MainCtrl" >
    <div class="container">

      <div class="row">
        <div class="col-md-4 col-md-offset-4">
          <div class="well">
            <form class="form" ng-submit="login(user)">
              <div class="form-group">
                <label>EMAIL</label>
                <input ng-model="user.email" type="text" class="form-control" name="email">
              </div>
              <div class="form-group">
                <label>PASSWORD</label>
                <input ng-model="user.password" type="password" class="form-control" name="password">
              </div>
              <button class="btn btn-primary btn-sm" type="submit">LOGIN</button>
            </form>
          </div>
        </div>
      </div>


      <footer class="footer">
        <p>&copy; Esscale 2016 </p>
      </footer>
    </div>

    <script src="/components/jquery/dist/jquery.min.js"></script>
    <script src="/components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/components/lodash/dist/lodash.min.js"></script>
    <script src="/components/angular/angular.min.js"></script>
    <script src="/components/toastr/toastr.min.js"></script>

    <script>
      angular.module('DeployerApp', [])
        .controller('MainCtrl', function ($scope, $http) {
          $scope.login = login;

          function login (user) {
            $http.post('/login', user)
              .then(function (data) {
                window.location.href = '/';
              }, fail);
          }

          function fail (err) {
            toastr.error('Error');
          }
        });
    </script>
  </body>
</html>
